(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1af2b1ab"],{"1b84":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-view"},[a("div",{staticClass:"flash-cards-header "},[a("div",[e._v(" 生词本 ")]),a("div",{staticClass:"page-setting"},[a("i",{staticClass:"el-icon-menu",on:{click:function(t){e.dialogShowing.pageSettingDialog=!0}}})]),a("div",{staticClass:"page-setting",staticStyle:{right:"35px"}},[a("i",{staticClass:"el-icon-tickets",on:{click:function(t){return e.onShowNotebookMode()}}})])]),a("div",{staticClass:"flash-cards-table"},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.vocabularyList}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"word",label:"word",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{staticClass:"word-break",domProps:{innerHTML:e._s(t.row.word)},on:{click:function(a){return e.playAudio(t.row.wordAudio)}}})])]}}])}),a("el-table-column",{attrs:{label:"symbol",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{staticClass:"word-break",domProps:{innerHTML:e._s(t.row.symbol)},on:{click:function(e){t._self.$refs["node-popover-"+t.$index].doToggle()}}}),a("el-popover",{ref:"node-popover-"+t.$index,attrs:{placement:"bottom","popper-class":"chineseDefinitionPopper",title:"",trigger:"click"}},[a("span",{staticStyle:{color:"#606266"},domProps:{innerHTML:e._s(t.row.chineseDefinition?t.row.chineseDefinition:"Don't have any definition yet.")}})])],1)]}}])}),a("el-table-column",{attrs:{width:"200",label:"short definition"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"word-break",domProps:{innerHTML:e._s(t.row.shortDefinition)},on:{click:function(a){return e.playAudio(t.row.definitionAudio)}}})]}}])}),a("el-table-column",{attrs:{width:"200",label:"example"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"word-break",domProps:{innerHTML:e._s(t.row.example)},on:{click:function(a){return e.playAudio(t.row.exampleAudio)}}})]}}])}),a("el-table-column",{attrs:{"min-width":"150px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"button",staticStyle:{"font-size":"12px"},on:{click:function(a){return e.handleNotebook(t.$index,t.row)}}},[e._v(e._s(t.row.notebookCheck?"从生词本删除":"添加到生词本"))])]}}])})],1)],1),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{background:"","page-sizes":[50,100,200,300,400,500,600],"current-page":e.currentPage,"page-size":e.pageSize,small:"",total:e.$vocabularyDatabase[e.vocabularyListIndex].length,layout:"sizes, prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)]),a("el-dialog",{attrs:{title:"Page Setting",visible:e.dialogShowing.pageSettingDialog,width:"350px"},on:{"update:visible":function(t){return e.$set(e.dialogShowing,"pageSettingDialog",t)}}},[a("div",{staticClass:"setting",attrs:{id:"setting"}},[a("el-form",{ref:"form",attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"合集下标"}},[a("el-select",{attrs:{name:"listNumber",placeholder:"当前合集下标"},on:{change:e.onVocabularyListIndex},model:{value:e.vocabularyListIndex,callback:function(t){e.vocabularyListIndex=t},expression:"vocabularyListIndex"}},e._l(e.$vocabularyDatabase.length,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e-1}})})),1)],1),a("el-form-item",{attrs:{label:"音频倍速"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageSetting.audioPlayRate,expression:"pageSetting.audioPlayRate"}],attrs:{name:"audioPlayRate"},domProps:{value:e.pageSetting.audioPlayRate},on:{input:function(t){t.target.composing||e.$set(e.pageSetting,"audioPlayRate",t.target.value)}}})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogShowing.pageSettingDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogShowing.pageSettingDialog=!1}}},[e._v("确 定")])],1)]),a("div",[a("audio",{ref:"audioPlayer",attrs:{autoplay:"autoplay",preload:"auto"}},[e._v(" 你的浏览器不支持audio标签 ")])])],1)},n=[],i=a("b85c"),r=(a("fb6a"),a("d3b7"),a("159b"),a("a434"),{name:"vocabulary-table",data:function(){return{vocabularyList:[],vocabularyListIndex:0,pageSize:100,currentPage:1,notebook:[],dialogShowing:{pageSettingDialog:!1},pageSetting:{audioPlayRate:1.5}}},watch:{notebook:{handler:function(e,t){var a=this;return console.log(e),a.$storage.saveToLocal("notebook","notebook",e),e},deep:!0}},created:function(){},mounted:function(){var e=this;e.initPage()},methods:{onShowNotebookMode:function(){this.$router.push({name:"vocabulary-deck",params:{notebookMode:!0}})},initPage:function(){var e=this;e.notebook=e.$storage.loadFromLocal("notebook","notebook",[]),e.vocabularyList=e.queryVocabularyList(e.currentPage,e.pageSize),e.changeSpeed(2)},changeSpeed:function(e){var t=this.$refs.audioPlayer;t.playbackRate=e},pauseAudio:function(){var e=this.$refs.audioPlayer;e.paused||e.pause()},playAudio:function(e){var t=this,a=this.$refs.audioPlayer;a&&(t.pauseAudio(),a.currentTime=0,a.src=t.$vocabularyFileDatabaseURL+e,t.changeSpeed(t.pageSetting.audioPlayRate),a.play())},queryVocabularyList:function(e,t){var a,o=this,n=o.$vocabularyDatabase[o.vocabularyListIndex],r=(e-1)*t,l=n.slice(r,r+t),s=Object(i["a"])(l);try{for(s.s();!(a=s.n()).done;){var c=a.value;o.checkNotebook(c.word)?c.notebookCheck=!0:c.notebookCheck=!1}}catch(u){s.e(u)}finally{s.f()}return l},handleSizeChange:function(e){var t=this;t.pageSize=e,t.vocabularyList=t.queryVocabularyList(t.currentPage,t.pageSize)},handleCurrentChange:function(e){var t=this;t.currentPage=e,t.vocabularyList=t.queryVocabularyList(t.currentPage,t.pageSize)},handleNotebook:function(e,t){var a=this;a.checkNotebook(t.word)?a.notebook.forEach((function(o,n){if(o.word==t.word)return a.$set(a.vocabularyList[e],"notebookCheck",!1),void a.notebook.splice(n,1)})):(a.$set(a.vocabularyList[e],"notebookCheck",!0),a.notebook.push({word:t.word}))},checkNotebook:function(e){var t=this,a=!1;return t.notebook.forEach((function(t){t.word==e&&(a=!0)})),a},onVocabularyListIndex:function(e){var t=this;t.vocabularyList=t.queryVocabularyList(t.currentPage,t.pageSize)}}}),l=r,s=(a("55e3"),a("fc06"),a("2877")),c=Object(s["a"])(l,o,n,!1,null,"879a9a86",null);t["default"]=c.exports},"55e3":function(e,t,a){"use strict";a("e701")},"93d0":function(e,t,a){},e701:function(e,t,a){},fc06:function(e,t,a){"use strict";a("93d0")}}]);