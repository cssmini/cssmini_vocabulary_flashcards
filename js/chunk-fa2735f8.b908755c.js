(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa2735f8"],{"1b84":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-view"},[a("div",{staticClass:"flash-cards-header "},[a("div",[t._v(" 生词本 ")]),a("div",{staticClass:"page-setting"},[a("i",{staticClass:"el-icon-menu",on:{click:function(e){t.dialogShowing.pageSettingDialog=!0}}})]),a("div",{staticClass:"page-setting",staticStyle:{right:"35px"}},[a("i",{staticClass:"el-icon-tickets",on:{click:function(e){return t.onShowNotebookMode()}}})])]),a("div",{staticClass:"flash-cards-table"},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.vocabularyList}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"word",label:"word",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"word-break",domProps:{innerHTML:t._s(e.row.word)},on:{click:function(a){return t.playAudio(e.row.wordAudio)}}})]}}])}),a("el-table-column",{attrs:{label:"symbol",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"word-break",domProps:{innerHTML:t._s(e.row.symbol)}})]}}])}),a("el-table-column",{attrs:{width:"200",label:"short definition"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"word-break",domProps:{innerHTML:t._s(e.row.shortDefinition)},on:{click:function(a){return t.playAudio(e.row.definitionAudio)}}})]}}])}),a("el-table-column",{attrs:{width:"200",label:"example"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"word-break",domProps:{innerHTML:t._s(e.row.example)},on:{click:function(a){return t.playAudio(e.row.exampleAudio)}}})]}}])}),a("el-table-column",{attrs:{"min-width":"150px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button",{staticClass:"button",staticStyle:{"font-size":"12px"},on:{click:function(a){return t.handleNotebook(e.$index,e.row)}}},[t._v(t._s(e.row.notebookCheck?"从生词本删除":"添加到生词本"))])]}}])})],1)],1),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{background:"","page-sizes":[50,100,200,300,400,500,600],"current-page":t.currentPage,"page-size":t.pageSize,small:"",total:t.$vocabularyDatabase[t.vocabularyListIndex].length,layout:"sizes, prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)]),a("el-dialog",{attrs:{title:"Page Setting",visible:t.dialogShowing.pageSettingDialog,width:"350px"},on:{"update:visible":function(e){return t.$set(t.dialogShowing,"pageSettingDialog",e)}}},[a("div",{staticClass:"setting",attrs:{id:"setting"}},[a("el-form",{ref:"form",attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"合集下标"}},[a("el-select",{attrs:{name:"listNumber",placeholder:"当前合集下标"},on:{change:t.onVocabularyListIndex},model:{value:t.vocabularyListIndex,callback:function(e){t.vocabularyListIndex=e},expression:"vocabularyListIndex"}},t._l(t.$vocabularyDatabase.length,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t-1}})})),1)],1),a("el-form-item",{attrs:{label:"音频倍速"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageSetting.audioPlayRate,expression:"pageSetting.audioPlayRate"}],attrs:{name:"audioPlayRate"},domProps:{value:t.pageSetting.audioPlayRate},on:{input:function(e){e.target.composing||t.$set(t.pageSetting,"audioPlayRate",e.target.value)}}})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogShowing.pageSettingDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogShowing.pageSettingDialog=!1}}},[t._v("确 定")])],1)]),a("div",[a("audio",{ref:"audioPlayer",attrs:{autoplay:"autoplay",preload:"auto"}},[t._v(" 你的浏览器不支持audio标签 ")])])],1)},n=[],i=a("b85c"),r=(a("fb6a"),a("d3b7"),a("159b"),a("a434"),{name:"vocabulary-table",data:function(){return{vocabularyList:[],vocabularyListIndex:0,pageSize:100,currentPage:1,notebook:[],dialogShowing:{pageSettingDialog:!1},pageSetting:{audioPlayRate:1.5}}},watch:{notebook:{handler:function(t,e){var a=this;return console.log(t),a.$storage.saveToLocal("notebook","notebook",t),t},deep:!0}},created:function(){},mounted:function(){var t=this;t.initPage()},methods:{onShowNotebookMode:function(){this.$router.push({name:"vocabulary-deck",params:{notebookMode:!0}})},initPage:function(){var t=this;t.notebook=t.$storage.loadFromLocal("notebook","notebook",[]),t.vocabularyList=t.queryVocabularyList(t.currentPage,t.pageSize),t.changeSpeed(2)},changeSpeed:function(t){var e=this.$refs.audioPlayer;e.playbackRate=t},pauseAudio:function(){var t=this.$refs.audioPlayer;t.paused||t.pause()},playAudio:function(t){var e=this,a=this.$refs.audioPlayer;a&&(e.pauseAudio(),a.currentTime=0,a.src=e.$vocabularyFileDatabaseURL+t,e.changeSpeed(e.pageSetting.audioPlayRate),a.play())},queryVocabularyList:function(t,e){var a,o=this,n=o.$vocabularyDatabase[o.vocabularyListIndex],r=(t-1)*e,l=n.slice(r,r+e),s=Object(i["a"])(l);try{for(s.s();!(a=s.n()).done;){var c=a.value;o.checkNotebook(c.word)?c.notebookCheck=!0:c.notebookCheck=!1}}catch(u){s.e(u)}finally{s.f()}return l},handleSizeChange:function(t){var e=this;e.pageSize=t,e.vocabularyList=e.queryVocabularyList(e.currentPage,e.pageSize)},handleCurrentChange:function(t){var e=this;e.currentPage=t,e.vocabularyList=e.queryVocabularyList(e.currentPage,e.pageSize)},handleNotebook:function(t,e){var a=this;a.checkNotebook(e.word)?a.notebook.forEach((function(o,n){if(o.word==e.word)return a.$set(a.vocabularyList[t],"notebookCheck",!1),void a.notebook.splice(n,1)})):(a.$set(a.vocabularyList[t],"notebookCheck",!0),a.notebook.push({word:e.word}))},checkNotebook:function(t){var e=this,a=!1;return e.notebook.forEach((function(e){e.word==t&&(a=!0)})),a},onVocabularyListIndex:function(t){var e=this;e.vocabularyList=e.queryVocabularyList(e.currentPage,e.pageSize)}}}),l=r,s=(a("c1e6"),a("fc06"),a("2877")),c=Object(s["a"])(l,o,n,!1,null,"c78feda0",null);e["default"]=c.exports},"856b":function(t,e,a){},"93d0":function(t,e,a){},c1e6:function(t,e,a){"use strict";a("856b")},fc06:function(t,e,a){"use strict";a("93d0")}}]);